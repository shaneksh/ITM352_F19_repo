<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="registration.css" >

    <title>Document</title>
    <script>
        let params = (new URL(document.location)).searchParams;
        if (params.has("RegisterError")) {
            window.onload = function () {
                regError = params.get("RegisterError");
                nameLong = '<font color="red">Full Name is too long</font>';
                nameNoLetter = '<font color="red">Name must be letters only</font>';
                if (regError == nameLong) {
                    document.getElementById("regfullname").innerHTML = regError;
                }
                if (regError == nameNoLetter) {
                    document.getElementById("regfullname").innerHTML = regError;
                }
                if (params.has("RegisterError2")) {
                    regError2 = params.get("RegisterError2");
                    passNoMatch = '<font color="red">Password DOES NOT Match</font>';
                    passLength = '<font color="red">Password must be more than 6 characters long</font>';
                    if (regError2 == passLength) {
                        document.getElementById("regpassword").innerHTML = regError2;
                    }
                    if (regError2 == passNoMatch) {
                        document.getElementById("regrepeatpassword").innerHTML = regError2;
                    }
                }
                if (params.has("RegisterError3")) {
                    regError3 = params.get("RegisterError3");
                    useNumLet = '<font color="red">Username must be characters and numbers only</font>';
                    useLong = '<font color="red">Username is too long</font>'; 
                    useShort = '<font color="red">Username is too short</font>'; 
                    useTaken = '<font color="red">User already registered</font>'; 
                    if (regError3 == useNumLet) {
                        document.getElementById("regusername").innerHTML = regError3;
                    }
                    if (regError3 == useLong) {
                        document.getElementById("regusername").innerHTML = regError3;
                    }
                    if (regError3 == useShort) {
                        document.getElementById("regusername").innerHTML = regError3;
                    }
                    if (regError3 == useTaken) {
                        document.getElementById("regusername").innerHTML = regError3;
                    }
                }
                if (params.has("RegisterError4")) {
                    regError4 = params.get("RegisterError4");
                    emailInvalid = '<font color="red">Email is invalid</font>'; 
                    if (regError4 == emailInvalid) {
                        document.getElementById("regemail").innerHTML = regError4;
                    }
                }
                if (params.has("stickMe")) {
                    stickReset = params.get("stickMe");
                    document.getElementById("regfullnamebox").value = stickReset;
                    //regError='';
                }
                if (params.has("stickMe3")) {
                    stickReset3 = params.get("stickMe3");
                    document.getElementById("regusernamebox").value = stickReset3;
                    //regError='';
                }
                if (params.has("stickMe4")) {
                    stickReset4 = params.get("stickMe4");
                    document.getElementById("regemailbox").value = stickReset4;
                    //regError='';
                }
            }
        
        }
    </script>

</head>

<body>
    <form method="POST" id="register_form" name="registration_form" class="box">
        <h1> R E G I S T E R </h1>
        <input type="text" id="regfullnamebox" name="fullname" size="40" placeholder="Enter Fullname" value="">
        <label id="regfullname" class="" style="color: white;">Full Name</label><br />
        <input type="text" id="regusernamebox" name="username" size="40" placeholder="Enter Username" value="">
        <label id="regusername" class="" style="color: white;" >Username</label><br />
        <input type="password" id="reguserbox" name="password" size="40" placeholder="Enter Password" value="">
        <label id="regpassword" class="" style="color: white;">Password</label><br />
        <input type="password" id="reguserbox" name="repeat_password" size="40" placeholder="Enter Password Again"
            value="">
        <label id="regrepeatpassword" class="" style="color: white;">Repeat Password</label><br />
        <input type="email" id="regemailbox" name="email" size="40" placeholder="enter email" value="">
        <label id="regemail" class="" style="color: white;">Email</label><br />
        <input type="submit" value="Register" id="submit">
    </form>
</body>
<script>
    //Sets link with quantity data to pass to next page
    register_form.action = "/register" + document.location.search;
</script>

</html>